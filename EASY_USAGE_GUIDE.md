# EASY USAGE GUIDE – Domain & Coaches Scraper (macOS)

_Last updated: 2025-11-21_

---

## 1. Prerequisites

- **macOS 10.15+** (Catalina or newer)
- **Python 3.8+** (Check: `python3 --version`)
- **Internet connection**
- **Google API Key** and **Programmable Search Engine ID** (see below)

---

## 2. Get Your Google API Credentials

### A. Create a Google Cloud Project  
https://console.cloud.google.com/

1. Click **“Create Project”** (top left).
2. Name it (e.g., `domain-finder-project`) and click **“Create”**.

### B. Enable the Custom Search API  
https://console.cloud.google.com/apis/library/customsearch.googleapis.com

1. Click **“Enable”**.

### C. Create an API Key  
https://console.cloud.google.com/apis/credentials

1. Click **“+ CREATE CREDENTIALS”** → **“API key”**.
2. Copy the API key (starts with `AIza...`).  
   _Keep this key private!_

### D. Create a Programmable Search Engine (CSE)  
https://programmablesearchengine.google.com/about/

1. Click **“Add”** or **“Create a search engine”**.
2. For “Sites to search”, enter: `*.edu` (or `www.google.com` for the whole web).
3. Name it (e.g., `Athletics Domain Finder`) and click **“Create”**.
4. Go to the CSE control panel, click **“Control Panel”**.
5. Under **“Sites to search”**, select **“Search the entire web but emphasize included sites”**.
6. Copy the **Search Engine ID** (looks like `012345678901234567890:abcde_fghij`).

---

## 3. Project Setup on macOS

### A. Download and Extract the Project

- Unzip the project folder to your Mac.

### B. Open Terminal and Navigate to the Domain Finder

```bash
cd /path/to/your/project/domain\ finder
```

### C. Run the Automated Setup

```bash
chmod +x scripts/setup_macos.sh
./scripts/setup_macos.sh
```

---

## 4. Configure Your Credentials

1. Copy the example environment file:

   ```bash
   cp .env.example .env
   ```

2. Open `.env` in a text editor and paste your API key and CSE ID:

   ```
   GOOGLE_API_KEY=your_api_key_here
   GOOGLE_CSE_ID=your_cse_id_here
   ```

---

## 5. Step-by-Step Workflow

### **A. Scrape Official Athletics Domains (Domain Finder)**

1. **Run the domain finder:**

   ```bash
   ./scripts/run.sh
   # Or, to limit the number of schools (e.g., 50):
   source venv/bin/activate
   python src/domain_finder.py --limit 50
   ```

2. **Output:**  
   - Main results: `data/output/domain_results.csv`
   - Errors:      `data/output/domain_results_errors.csv`

---

### **B. Use the Output for Coaches Scraper**

1. **Copy the CSV with domains to the coaches folder:**

   - Take the file `domain_results.csv` generated by the domain finder (found at `domain finder/data/output/domain_results.csv`).
   - Copy or move this file into the `coaches` folder (so the path is `coaches/domain_results.csv`).

2. **Update the input path in the coaches config:**

   - Open `coaches/config.yaml` in a text editor.
   - Find the line that starts with `input_csv_path:`.
   - Change it to:
     ```yaml
     input_csv_path: "domain_results.csv"
     ```
   - Save the file.

---

### **C. Run the Coaches/Staff Scraper**

1. **Install dependencies (if not done):**

   ```bash
   pip install -r requirements.txt
   ```

2. **Run the scraper for your desired sport:**

   ```bash
   python run.py --profile=soccer_womens
   # Change 'soccer_womens' to any profile defined in config.yaml
   ```

3. **Output:**  
   - Coaches: `output/coaches_<profile>.csv`
   - Errors:  `output/errors_<profile>.csv`
   - Log:     `output/report_<profile>.txt`

---

## 6. Troubleshooting

- **Missing credentials:** Double-check your `.env` file in the domain finder folder.
- **API quota errors:** Check your Google Cloud Console for usage limits.
- **No results in coaches output:** Make sure you copied the correct `domain_results.csv` and updated the config path.
- **Still stuck?** See the included `USAGE_GUIDE.md` or contact support.

---

**You do NOT need to edit any code. Just follow these steps and you’ll be ready to go!**
